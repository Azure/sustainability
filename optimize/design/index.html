<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.105.0">
    <meta name="generator" content="Relearn 5.5.3">
    <meta name="description" content="Learn how to build or optimize applications on Azure with sustainability in mind">
    <meta name="author" content="Microsoft Open Source Community">
    <title>Design - Build green software applications on Azure</title>
    <link href="/sustainability/optimize/design/index.md" rel="alternate" type="text/plain" title="Design - Build green software applications on Azure">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/sustainability/css/fontawesome-all.min.css?1669174935" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/sustainability/css/fontawesome-all.min.css?1669174935" rel="stylesheet"></noscript>
    <link href="/sustainability/css/featherlight.min.css?1669174935" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/sustainability/css/featherlight.min.css?1669174935" rel="stylesheet"></noscript>
    <link href="/sustainability/css/auto-complete.css?1669174935" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/sustainability/css/auto-complete.css?1669174935" rel="stylesheet"></noscript>
    <link href="/sustainability/css/perfect-scrollbar.min.css?1669174935" rel="stylesheet">
    <link href="/sustainability/css/nucleus.css?1669174935" rel="stylesheet">
    <link href="/sustainability/css/fonts.css?1669174935" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/sustainability/css/fonts.css?1669174935" rel="stylesheet"></noscript>
    <link href="/sustainability/css/theme.css?1669174935" rel="stylesheet">
    <link href="/sustainability/css/theme-blue-variant.css?1669174935" rel="stylesheet" id="variant-style">
    <link href="/sustainability/css/ie.css?1669174935" rel="stylesheet">
    <link href="/sustainability/css/variant.css?1669174935" rel="stylesheet">
    <link href="/sustainability/css/print.css?1669174935" rel="stylesheet" media="print">
    <script src="/sustainability/js/variant.js?1669174935"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_json_url="/sustainability/index.json";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      // some further base stuff
      var baseUriFull='http:\/\/azure.github.io\/sustainability/';
      window.variants && variants.init( [ 'blue-variant' ] );
    </script>
    <script src="/sustainability/js/jquery.min.js?1669174935" defer></script>
  </head>
  <body class="mobile-support html" data-url="/sustainability/optimize/design/">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable" dir="ltr">
        <div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <span id="toc-menu" title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span>
            <span class="links">
              Design
            </span>
          </div>
          <div class="default-animation progress">
            <div class="toc-wrapper" dir="ltr">
<nav id="TableOfContents">
  <ul>
    <li><a href="#carbon-intensity">Carbon intensity</a></li>
    <li><a href="#carbon-awareness">Carbon awareness</a></li>
  </ul>
</nav>
            </div>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
<h1>Design</h1>

<p>Use the recommendations out of the Microsoft Azure Well-Architected Sustainability Review and consider the <a href="https://aka.ms/waf/sustainability">Azure Well-Architected Framework guidance for sustainable workloads</a> to guide your architecture and build a diagram illustrating how the customerâ€™s existing structure can be made sustainable using sustainable best practices.</p>

<div class="box notices cstyle tip">
    <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
    <div class="box-content">
<p>Review the <a href="https://aka.ms/aks/sustainability">sustainability guidance specific to Azure Kubernetes Service</a> when building new or improving workload hosted on Azure Kubernetes Service and ensure the following:</p>
<ul>
<li>Include all customer&rsquo;s requirements in your solution,</li>
<li>Include candidate roadmap components and explain which will be introduced to the current architectural landscape,</li>
<li>Resolve the changes across the architecture landscape: what will be removed, retired and/or maintained.</li>
</ul>
<p>You can use PowerPoint or any other tool like Visio, <a href="https://app.diagrams.net/">Draw.io</a>, <a href="https://www.lucidchart.com/pages/landing/flowchart-software">LucidChart</a> or <a href="https://cacoo.com/">Cacoo</a>.</p>
    </div>
</div>
<p>Additionally, you may want to review the following key considerations to strengthen your proposal.</p>
<h2 id="carbon-intensity">Carbon intensity</h2>
<p>Carbon intensity measures how much carbon (CO2e) is emitted per kilowatt-hour (KWh) of electricity consumed. The standard unit of carbon intensity is gCO2eq/kWh, or grams of carbon per kilowatt hour. <strong>Carbon intensity varies by location and time</strong>. Get familiar with variability of carbon intensity and aim for a flexible design to benefit from these varations. <a href="https://learn.greensoftware.foundation/carbon-awareness#variability-of-carbon-intensity">Learn more about variability of carbon intensity</a>.</p>
<p>There are multiple providers for electricity carbon intensity that differ from coverage scope and emissions quantification models. They offer APIs for <strong>historical emissions</strong>, <strong>current emissions</strong> (now), and <strong>forecast emissions</strong> (next day or few days). Carbon intensity data is quantified through predictive models and the quantified emissions data get updated regularly (each few minutes to an hour). The following is a non-exhaustive list of API providers:</p>
<ul>
<li>
<p>Multi-country providers</p>
<ul>
<li><a href="https://www.watttime.org/">Watttime</a></li>
<li><a href="https://app.electricitymaps.com/map">Electricitymaps</a></li>
</ul>
</li>
<li>
<p>Country specific providers</p>
<ul>
<li><a href="https://api.carbonintensity.org.uk/">Official Carbon Intensity API for Great Britain</a></li>
<li><a href="https://data.rte-france.com/catalog/-/api/consumption/Ecowatt/v4.0/">France API Data RTE</a></li>
</ul>
</li>
</ul>
<h2 id="carbon-awareness">Carbon awareness</h2>
<p>Being carbon aware means responding to shifts in carbon intensity by increasing or decreasing your demand. The workload should be flexible with when and where you run it to shift accordingly - consuming electricity when the carbon intensity is lower and pausing production when it is higher. <a href="https://learn.greensoftware.foundation/carbon-awareness/#how-to-be-more-carbon-aware">Learn more about carbon awareness</a>.</p>

<div class="box notices cstyle tip">
    <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
    <div class="box-content">
<p>Leverage carbon intensity as followed to allow for carbon awareness:</p>
<ul>
<li>Use <strong>current emissions</strong> for carbon intensity in a given region, to <strong>implement demand shaping</strong> in your applications and adapt to current emissions and reduce usage / demand when carbon intensity is high.</li>
<li>Use <strong>forecast emissions</strong> for carbon intensity in a given region, to <strong>implement time shifting</strong> in your applications and time schedule batch workloads when carbon intensity is low.</li>
<li>Use <strong>average historical emissions</strong> for carbon intensity in multiple regions, to <strong>implement region shifting</strong> at a platform level and deploy workloads to the region with low average carbon intensity.</li>
</ul>
    </div>
</div>
<p>Additionally, use the following non-exhaustive enablers to help you include carbon awareness in your design:</p>
<p><strong>Carbon Aware SDK</strong></p>
<p>The Carbon Aware SDK is a wrapper for Carbon Intensity API providers, used as a WebApi and Command Line Interface (CLI) to assist in building carbon aware software. This is an open source project from The Green Software Foundation. <a href="https://github.com/Green-Software-Foundation/carbon-aware-sdk">Learn more about the Carbon Aware SDK</a>.</p>
<p><strong>Time shifting APIs</strong></p>
<p>Using electricity when the carbon intensity is low is the best way to ensure investment flows towards low-carbon emitting plants and away from high-carbon emitting plants.</p>
<ul>
<li><a href="https://github.com/Azure/sustainability/tree/main/green-software/demo/carbon-awareness/CarbonIntensityData/ElectricityMap/carbonIntensityAPIs">Check out this demo API</a> which is built on ElectricityMap and calculates the best time to schedule a job, given the job duration and deadline constraints.</li>
</ul>
<p>For specific services, check out the following.</p>
<ul>
<li>
<p>Azure Kubernetes Service:</p>
<ul>
<li><a href="https://github.com/Azure/sustainability/tree/main/green-software/demo/carbon-awareness/AKS/TimeShiftJobs">Time schedule on-demand (or ad-hoc) jobs when carbon intensity is low, given job duration and deadline</a></li>
<li><a href="https://github.com/Azure/sustainability/tree/main/green-software/demo/carbon-awareness/AKS/TimeShiftCronJobs">Time schedule CronJobs (recurrent jobs), when carbon intensity is low, given job duration and deadline</a></li>
</ul>
</li>
<li>
<p>GitHub</p>
<ul>
<li><a href="https://github.com/CapybaraOrg/capybara-demo">Time schedule DevOps workflows when carbon intensity is low, given workflow duration and deadline</a></li>
</ul>
</li>
</ul>

<div class="box notices cstyle info">
    <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
    <div class="box-content">
<p><a href="https://www.techradar.com/news/windows-11-is-getting-an-eco-friendly-update-but-could-microsoft-do-more">Read about how Microsoft is tyring to make Windows 11 more sustainable</a> by running Windows updates when the carbon intensity is lower for example.</p>
    </div>
</div>
<p><strong>Demand shaping APIs</strong></p>
<p>Demand shaping APIs are specific to the following Azure workloads:</p>
<ul>
<li>
<p>Azure Kubernetes Service</p>
<ul>
<li><a href="https://github.com/Azure/sustainability/tree/main/green-software/demo/carbon-awareness/AKS/InterruptJobs">Suspend jobs when carbon intensity is higher than a given threshold and resume when it&rsquo;s lower</a></li>
<li><a href="https://github.com/Azure/sustainability/tree/main/green-software/demo/carbon-awareness/AKS/CarbonAwareScaler">Scale down workloads when carbon intensity is higher than a given threshold and scale up when it&rsquo;s lower</a></li>
</ul>
</li>
<li>
<p>Azure Durable Functions</p>
<ul>
<li><a href="link">Suspend orchestration workflow when carbon intensity is higher than a given threshold and resume when lower</a></li>
</ul>
</li>
</ul>
<p><strong>Region shifting feature</strong></p>
<p>Spatial or region shifting means moving your compute to another physical location where the current carbon intensity is lower. It might be a region that naturally has lower carbon sources of energy.</p>
<p>Learn how to deploy Kubernetes workloads to an Azure Kubernetes Service cluster hosted in low emissions regions using <a href="https://learn.microsoft.com/en-us/azure/kubernetes-fleet/overview"><strong>Azure Kubernetes Fleet Manager</strong></a>.</p>

<div class="box notices cstyle info">
    <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
    <div class="box-content">
<p>Additionally, explore other carbon aware projects from the Green Software Community such as:</p>
<ul>
<li><a href="https://taikai.network/gsf/hackathons/carbonhack22/projects/cl8j1ex3h2845301s653mtnk87/idea">Sustainable UI</a> - A library for building carbon aware web UIs is based on React</li>
<li><a href="https://taikai.network/gsf/hackathons/carbonhack22/projects">More Carbon Hack 22 Projects</a></li>
</ul>
    </div>
</div>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="sidebar" class="default-animation showVisitedLinks" dir="ltr">
      <div id="header-wrapper" class="default-animation">
        <div id="header" class="default-animation">
          <style>
            #logo svg,
            #logo svg * {
              color: #ffffff;
              color: var(--MENU-SECTIONS-BG-color);
              fill: #ffffff !important;
              fill: var(--MENU-SECTIONS-BG-color) !important;
              opacity: .945;
            }
            a#logo {
              color: #ffffff;
              color: var(--MENU-SECTIONS-BG-color);
              font-family: 'Work Sans', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;
              font-size: 20px;
              font-weight: 500;
              margin-top: 5px;
              max-width: 100%;
              text-transform: none;
              width: 226px;
              white-space: nowrap;
            }
            a#logo:hover {
              color: #ffffff;
              color: var(--MENU-SECTIONS-BG-color);
            }
            #logo svg {
              margin-bottom: -20px;
              margin-left: -23.5px;
              width: 40.5%;
            }
            @media only all and (max-width: 59.938em) {
              a#logo {
                font-size: 25px;
                margin-top: -3px;
              }
              #logo svg {
                margin-bottom: -12px;
                margin-left: -23px;
              }
            }
            @media all and (-ms-high-contrast:none) {
              /* IE11s understanding of positioning is weird at best */
              a#logo {
                margin-top: -58px;
              }
              #logo svg {
                margin-bottom: -62px;
              }
            }
          </style>
          
        </div>
        <div class="searchbox default-animation">
          <label class="a11y-only" for="search-by">Search</label>
          <i class="fas fa-search"></i>
          <input data-search-input id="search-by" type="search" placeholder="Search...">
          <span data-search-clear=""><i class="fas fa-times"></i></span>
        </div>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/sustainability/js/auto-complete.js?1669174935" defer></script>
        <script src="/sustainability/js/lunr.min.js?1669174935" defer></script>
        <script src="/sustainability/js/lunr.stemmer.support.min.js?1669174935" defer></script>
        <script src="/sustainability/js/lunr.multi.min.js?1669174935" defer></script>
        <script src="/sustainability/js/lunr.en.min.js?1669174935" defer></script>
        <script src="/sustainability/js/search.js?1669174935" defer></script>
      </div>
      <div id="content-wrapper" class="highlightable">
        <ul class="topics collapsible-menu">
          <li data-nav-id="/sustainability/overview/" class="dd-item"><input type="checkbox" id="section-802c60793ff0af3dfb7211e666dc12f4" aria-controls="subsections-802c60793ff0af3dfb7211e666dc12f4" class="toggle"><label class="a11y-only toggle" for="section-802c60793ff0af3dfb7211e666dc12f4" >Submenu Overview</label><a href="/sustainability/overview/index.html">Overview<i class="fas fa-check read-icon"></i></a><ul id="subsections-802c60793ff0af3dfb7211e666dc12f4">
          <li data-nav-id="/sustainability/overview/about-this-workshop/" class="dd-item"><a href="/sustainability/overview/about-this-workshop/index.html">About this workshop<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/sustainability/overview/about-our-commitments/" class="dd-item"><a href="/sustainability/overview/about-our-commitments/index.html">About our commitments<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/sustainability/overview/about-green-software/" class="dd-item"><a href="/sustainability/overview/about-green-software/index.html">About green software<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/sustainability/concepts/" class="dd-item"><input type="checkbox" id="section-dc8a1c63e6da60163016ce21cae1faa0" aria-controls="subsections-dc8a1c63e6da60163016ce21cae1faa0" class="toggle"><label class="a11y-only toggle" for="section-dc8a1c63e6da60163016ce21cae1faa0" >Submenu Concepts</label><a href="/sustainability/concepts/index.html">Concepts<i class="fas fa-check read-icon"></i></a><ul id="subsections-dc8a1c63e6da60163016ce21cae1faa0">
          <li data-nav-id="/sustainability/concepts/design-methodologies/" class="dd-item"><a href="/sustainability/concepts/design-methodologies/index.html">Design methodologies<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/sustainability/concepts/design-principles/" class="dd-item"><a href="/sustainability/concepts/design-principles/index.html">Design principles<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/sustainability/concepts/design-areas/" class="dd-item"><a href="/sustainability/concepts/design-areas/index.html">Design areas<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/sustainability/scenario/" class="dd-item"><input type="checkbox" id="section-40f44de92bd75878f4e041d9b778b373" aria-controls="subsections-40f44de92bd75878f4e041d9b778b373" class="toggle"><label class="a11y-only toggle" for="section-40f44de92bd75878f4e041d9b778b373" >Submenu Scenario</label><a href="/sustainability/scenario/index.html">Scenario<i class="fas fa-check read-icon"></i></a><ul id="subsections-40f44de92bd75878f4e041d9b778b373">
          <li data-nav-id="/sustainability/scenario/case-study/" class="dd-item"><a href="/sustainability/scenario/case-study/index.html">Case study<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/sustainability/scenario/current-environment/" class="dd-item"><a href="/sustainability/scenario/current-environment/index.html">Current environment<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/sustainability/scenario/checklist/" class="dd-item"><a href="/sustainability/scenario/checklist/index.html">Checklist<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/sustainability/optimize/" class="dd-item parent"><input type="checkbox" id="section-61f47f715cab1075cd91f86869648fc0" aria-controls="subsections-61f47f715cab1075cd91f86869648fc0" class="toggle" checked><label class="a11y-only toggle" for="section-61f47f715cab1075cd91f86869648fc0" >Submenu Optimize</label><a href="/sustainability/optimize/index.html">Optimize<i class="fas fa-check read-icon"></i></a><ul id="subsections-61f47f715cab1075cd91f86869648fc0">
          <li data-nav-id="/sustainability/optimize/assess/" class="dd-item"><a href="/sustainability/optimize/assess/index.html">Assess<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/sustainability/optimize/design/" class="dd-item active"><a href="/sustainability/optimize/design/index.html">Design<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/sustainability/optimize/checklist/" class="dd-item"><a href="/sustainability/optimize/checklist/index.html">Checklist<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/sustainability/present/" class="dd-item"><input type="checkbox" id="section-428b1fe25566f9954c66af864a146989" aria-controls="subsections-428b1fe25566f9954c66af864a146989" class="toggle"><label class="a11y-only toggle" for="section-428b1fe25566f9954c66af864a146989" >Submenu Present</label><a href="/sustainability/present/index.html">Present<i class="fas fa-check read-icon"></i></a><ul id="subsections-428b1fe25566f9954c66af864a146989">
          <li data-nav-id="/sustainability/present/prepare-presentation/" class="dd-item"><a href="/sustainability/present/prepare-presentation/index.html">Prepare presentation<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/sustainability/present/closeout/" class="dd-item"><a href="/sustainability/present/closeout/index.html">Closeout<i class="fas fa-check read-icon"></i></a></li></ul></li>
        </ul>
        <div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div>
        <hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter">
        <div id="prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks">
          <ul>
            <li id="select-language-container" class="footerLangSwitch">
              <div class="padding select-container">
                <i class="fas fa-language fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <label class="a11y-only" for="select-language">Language</label>
                  <select id="select-language" onchange="location = baseUri + this.value;">
                  </select>
                </div>
                <div class="select-clear"></div>
              </div>
            </li>
            <li id="select-variant-container" class="footerVariantSwitch">
              <div class="padding select-container">
                <i class="fas fa-paint-brush fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <label class="a11y-only" for="select-variant">Theme</label>
                  <select id="select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                    <option id="blue-variant" value="blue-variant" selected>Blue Variant</option>
                  </select>
                </div>
                <div class="select-clear"></div>
              </div>
              <script>window.variants && variants.markSelectedVariant();</script>
            </li>
            <li class="footerVisitedLinks showVisitedLinks"><button class="padding" onclick="clearHistory();"><i class="fas fa-history fa-fw"></i> Clear History</button></li>
          </ul>
        </div>
        <div id="footer" class="footerFooter showFooter">
<p><center>Microsoft Open Source Community</a></center></p>
        </div>
      </div>
    </aside>
    <script src="/sustainability/js/clipboard.min.js?1669174935" defer></script>
    <script src="/sustainability/js/perfect-scrollbar.min.js?1669174935" defer></script>
    <script src="/sustainability/js/featherlight.min.js?1669174935" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/sustainability/js/jquery.svg.pan.zoom.js?1669174935" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="https://unpkg.com/rapidoc/dist/rapidoc-min.js" defer></script>
    <script>
      window.themeUseSwagger = JSON.parse("{ \"theme\": \"light\" }");
    </script>
    <script src="/sustainability/js/theme.js?1669174935" defer></script>
  </body>
</html>
